"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("./vendor.js"),l=require("./contexts.js"),u=require("./components.js"),d=require("./index.js"),c=require("./base.js");e.Chart.register(e.CategoryScale,e.LinearScale,e.BarElement,e.plugin_title,e.plugin_tooltip,e.plugin_legend);const x=()=>{const{user:o}=l.useAuth(),{t:n}=e.useTranslation(),{data:s=[],loading:i}=e.useRequest(d.api.base.getStatistics,{onError:t=>{e.staticMethods.error(n("dashboard.fetchStatisticsError",{defaultValue:"Error fetching statistics: {{error}}",error:t.message}))}}),a=t=>"value"in t?e.jsxRuntimeExports.jsx(e.Card,{children:e.jsxRuntimeExports.jsx(e.Statistic,{title:t.title,value:t.value,prefix:e.jsxRuntimeExports.jsx(u.DynamicIcon,{iconName:t.icon}),valueStyle:{color:t.color}})}):e.jsxRuntimeExports.jsx(e.Card,{children:e.jsxRuntimeExports.jsx(e.Bar,{data:{labels:t.labels,datasets:t.datasets.map(r=>({label:r.label,data:r.data,borderColor:r.color,backgroundColor:c.transparentize(r.color,.5),borderRadius:5,borderWidth:2}))},options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})});return e.jsxRuntimeExports.jsxs(e.Skeleton,{active:!0,loading:i,children:[e.jsxRuntimeExports.jsx("p",{children:n("dashboard.welcome",{defaultValue:"Welcome, {{name}}!",name:(o==null?void 0:o.full_name)||(o==null?void 0:o.username)})}),s==null?void 0:s.map(t=>e.jsxRuntimeExports.jsx(e.Row,{gutter:16,style:{marginTop:20},children:t.map(r=>e.jsxRuntimeExports.jsx(e.Col,{span:r.width,children:a(r)}))}))]})};exports.default=x;
