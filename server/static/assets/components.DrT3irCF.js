var Ge=Object.defineProperty;var Je=(t,a,s)=>a in t?Ge(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;var de=(t,a,s)=>Je(t,typeof a!="symbol"?a+"":a,s);import{j as e,S as N,u as I,R as te,N as ue,c as O,D as ae,d as be,A as Ye,r as p,I as Qe,U as Ze,M as U,l as et,e as z,P as tt,f as st,g as at,L as nt,h as ve,k as rt,m as ot,n as it,T as Se,F as lt,o as ct,p as dt,q as v,s as T,t as w,v as C,w as W,C as K,x as ut,y as mt,z as ht,E as pt,G as me,Q as gt,H as we,J as ft,K as _,O as xt,V as yt,W as jt,X as bt,Y as vt,Z as X,_ as se,$ as St,a0 as ne,a1 as he,a2 as q,a3 as M,a4 as wt,a5 as Ct,a6 as Ce,a7 as It,a8 as pe,a9 as kt,aa as Lt,ab as Ft,ac as At,ad as $t,ae as ge,af as Tt,ag as Rt,ah as fe,ai as _t,aj as zt,ak as Pt,al as Mt,am as Et,an as xe,ao as Dt,ap as Vt,aq as J,ar as Nt,as as Bt}from"./vendor.MZTBlccq.js";import{u as Ie,a as ke,b as qt,c as H,d as Ht}from"./contexts.CtRMsfFk.js";import{g as Ot,f as Ut,c as Wt}from"./base.De0_vyxt.js";import{_ as Kt}from"./vite.BF1G3H_w.js";import{a as k,w as Le}from"./index.DO_kQ9cN.js";import{b as Y,A as Xt}from"./client.Dg5rJVxZ.js";const Gt=()=>e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",width:"100%"},children:e.jsx(N,{size:"large"})}),ks=({element:t,requiredPermission:a,requiredPermissions:s})=>{const{t:n}=I(),{user:o,loading:r,error:d}=Ie(),{hasPermission:i,hasAllPermissions:h}=ke();return r?e.jsx(Gt,{}):d?e.jsx(te,{status:"500",title:"500",subTitle:n("login.fetchCurrentUserError",{defaultValue:"Failed to fetch current user: {{error}}",error:(d==null?void 0:d.message)||d})}):o?a&&!i(a)?e.jsx(ue,{to:"/forbidden",replace:!0}):s&&!h(s)?e.jsx(ue,{to:"/forbidden",replace:!0}):t:(window.location.href=Ot("/login?redirect="+encodeURIComponent(window.location.href)),null)},Jt=O(({token:t,css:a})=>({container:a`
      ${a`
        @media screen and (max-width: ${t.screenXS}px) {
          width: 100% !important;
          > * {
            border-radius: 0 !important;
          }
        }
      `}
    > *{
      background-color: ${t.colorBgElevated};
      border-radius: 4px;
      box-shadow: ${t.boxShadowTertiary};
    }
    `,iconStyle:{cursor:"pointer",padding:"12px",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:18,verticalAlign:"middle","&:hover":{color:t.colorPrimaryTextHover}}})),Fe=({overlayClassName:t,overlay:a,hidden:s,children:n,...o})=>{if(s)return e.jsx(e.Fragment,{});const{styles:r}=Jt();return e.jsx(ae,{dropdownRender:a,overlayClassName:be(r.container,t),...o,children:e.jsx("span",{className:r.iconStyle,children:n})})},Yt=()=>e.jsxs("svg",{viewBox:"0 0 24 24",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:[e.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z ",className:"css-c4d79v"})]}),Qt=O(()=>({menuItemStyle:{minWidth:"160px"},menuItemIconStyle:{marginRight:"8px"}})),Zt=[{lang:"en-US",label:"English",icon:"ðŸ‡ºðŸ‡¸"},{lang:"sv-SE",label:"Svenska",icon:"ðŸ‡¸ðŸ‡ª"},{lang:"ar-AE",label:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",icon:"ðŸ‡¦ðŸ‡ª"},{lang:"de-DE",label:"Deutsch",icon:"ðŸ‡©ðŸ‡ª"},{lang:"es-ES",label:"EspaÃ±ol",icon:"ðŸ‡ªðŸ‡¸"},{lang:"fr-FR",label:"FranÃ§ais",icon:"ðŸ‡«ðŸ‡·"},{lang:"zh-CN",label:"ä¸­æ–‡",icon:"ðŸ‡¨ðŸ‡³"}],Ls=({transformLangConfig:t=a=>a})=>{const{i18n:a}=I(),{styles:s}=Qt(),n=r=>{a.changeLanguage(r)},o={selectedKeys:[a.language],onClick:r=>{n(r.key)},items:t(Zt).map(r=>({key:r.lang,className:s.menuItemStyle,label:e.jsxs(e.Fragment,{children:[e.jsx("span",{role:"img","aria-label":(r==null?void 0:r.label)||"en-US",className:s.menuItemIconStyle,children:(r==null?void 0:r.icon)||"ðŸŒ"}),(r==null?void 0:r.label)||"en-US"]})}))};return e.jsx(Fe,{menu:o,children:e.jsx(Yt,{})})},es=O(({css:t})=>({avatarItem:t`
    :hover {
      background: rgba(0, 0, 0, 0.12);
    }
    padding: 5px;
  `})),Ae=t=>et.isString(t)&&t.match(/^[-_a-zA-Z0-9]+$/)?Y.endsWith("/")?Y+`files/${t}`:Y+`/files/${t}`:t,ts=({src:t,fallback:a,...s})=>e.jsx(Ye,{src:Ae(t),icon:a,...s}),ss=({onChange:t,shape:a="square"})=>{const[s,n]=p.useState([]),{styles:o}=es(),[r,d]=p.useState(!1),[i,h]=p.useState(!0),[g,f]=p.useState(0),{run:c,loading:m}=z(()=>k.base.listFiles({current:g+1,page_size:40,file_type:"avatar",access:"public",search:""}),{manual:!0,onSuccess:({data:u})=>{n([...s,...u]),h(u.length===40),f(g+1)}}),j=()=>{h(!0),f(0),n([])};return e.jsx(tt,{style:{zIndex:1e3},onOpenChange:u=>{d(u),u?c():j()},open:r,content:e.jsx("div",{style:{width:360,height:200},children:e.jsx("div",{id:"iconsScrollableDiv",style:{height:"100%",overflow:"auto"},children:e.jsx(at,{dataLength:s.length,next:()=>{c()},hasMore:i,loader:e.jsx(rt,{avatar:!0,paragraph:{rows:1},active:!0}),endMessage:e.jsx(ve,{plain:!0,children:"End"}),scrollableTarget:"iconsScrollableDiv",children:e.jsx(nt,{grid:{gutter:16,column:8},dataSource:s,style:{margin:"0 8px"},loading:m,renderItem:({id:u})=>e.jsx("div",{className:o.avatarItem,onClick:x=>{x.stopPropagation(),t==null||t(u),d(!1),j()},children:e.jsx(ts,{shape:a,src:u})})})})})}),placement:"bottom",trigger:"hover",children:e.jsx(st,{shape:a,style:{width:112,height:112,placeContent:"center"}})})},as=({value:t,onChange:a,shape:s,...n})=>{const[o,r]=p.useState(void 0),[d,i]=p.useState(!1),[h,g]=p.useState(void 0),f=async c=>{i(!0),g(c.url??c.preview)};return p.useEffect(()=>{r(t?{uid:t,name:t,url:Ae(t)}:void 0)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(Qe,{beforeCrop:async c=>{if(c.type==="image/svg+xml"){const m=await k.base.uploadFile({type:"avatar"},c);return m.length>0&&(a==null||a(m[0].id)),!1}return!0},children:e.jsx(Ze,{customRequest:async c=>{var j,u;const m=await k.base.uploadFile({type:"avatar",access:"public"},c.file);m.length>0?((j=c.onSuccess)==null||j.call(c,m[0].id),a==null||a(m[0].id)):(u=c.onError)==null||u.call(c,new Error("Upload file failed"))},listType:"picture-card",onPreview:f,maxCount:1,onChange:({file:c})=>{switch(c.status){case"removed":a==null||a(void 0);break;case"done":break;default:r(c);break}},fileList:o?[o]:[],...n,children:o?void 0:e.jsx(ss,{shape:s,onChange:a})})}),e.jsx(U,{open:d,footer:null,onCancel:()=>i(!1),children:e.jsx("img",{style:{width:"100%"},src:h})})]})},Fs=()=>{const{t}=I("common"),{user:a}=Ie(),{currentOrgId:s,setCurrentOrgId:n}=qt(),o=(a==null?void 0:a.organizations)||[],r=g=>{n(g),window.location.reload()};if(o.length===0)return null;const d=o.find(g=>g.id===s),i=d?d.name:t("organization.global",{defaultValue:"Global"}),h=[...o.map(g=>({key:g.id,label:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:g.name}),s===g.id&&e.jsx(ot,{})]}),onClick:()=>r(g.id)}))];return e.jsxs(Fe,{menu:{items:h,selectedKeys:s?[s]:[""]},children:[e.jsx(it,{style:{marginRight:4}}),e.jsx("span",{style:{height:"1em",lineHeight:"1em",marginLeft:"5px"},children:i})]})},ns=({onResize:t,minWidth:a=300,maxWidth:s=window.innerWidth*.5})=>{const[n,o]=p.useState(!1),[r,d]=p.useState(!1),i=p.useCallback(f=>{f.preventDefault(),o(!0)},[]),h=p.useCallback(f=>{if(!n)return;const c=window.innerWidth-f.clientX,m=Math.max(a,Math.min(s,c));t(m)},[n,a,s,t]),g=p.useCallback(()=>{o(!1)},[]);return p.useEffect(()=>{if(n)return document.addEventListener("mousemove",h),document.addEventListener("mouseup",g),document.body.style.cursor="col-resize",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",g),document.body.style.cursor="",document.body.style.userSelect=""}},[n,h,g]),e.jsx("div",{onMouseDown:i,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),style:{width:"8px",height:"100vh",cursor:"col-resize",position:"relative",flexShrink:0,transition:n?"none":"background-color 0.2s ease",backgroundColor:n?"#1890ff":r?"#bfbfbf":"#e8e8e8",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{width:"3px",height:"40px",borderRadius:"2px",backgroundColor:n||r?"#fff":"#999",opacity:n||r?1:.5,transition:"opacity 0.2s ease",pointerEvents:"none"}})})},$e=p.lazy(()=>Kt(()=>Promise.resolve().then(()=>ys),void 0)),rs=O(({token:t,css:a})=>({siderLayout:a`
      position: relative;
      height: 100vh;
    `,floatSiderLayout:a`
      position: fixed;
      right: 16px;
      top: 16px;
      height: calc(100vh - 32px);
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12), 0 4px 8px rgba(0, 0, 0, 0.08);
      z-index: 1000;
      overflow: hidden;
      backdrop-filter: blur(8px);
      border: 1px solid ${t.colorBorderSecondary};
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      
      &:hover {
        box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15), 0 6px 12px rgba(0, 0, 0, 0.1);
      }
    `})),As=()=>{const{visible:t,setVisible:a,setLoaded:s}=H();return p.useEffect(()=>{s(!0)},[s]),e.jsx(U,{width:1200,open:t,closable:!1,onCancel:()=>a(!1),footer:null,children:Le($e)})},$s=()=>{const{styles:t}=rs(),{layout:a,visible:s}=H(),[n,o]=p.useState(()=>{const i=localStorage.getItem("ai-sidebar-width");return i?parseInt(i,10):400}),{setLoaded:r}=H();p.useEffect(()=>{r(!0)},[r]),p.useEffect(()=>{localStorage.setItem("ai-sidebar-width",n.toString())},[n]);const d=i=>{o(i)};return e.jsx(e.Fragment,{children:e.jsxs("div",{style:{width:`${n}px`,display:s?"flex":"none",overflow:"hidden",flexShrink:0},className:be("ai-sidebar-layout",a==="float-sidebar"?t.floatSiderLayout:t.siderLayout),children:[e.jsx(ns,{onResize:d,minWidth:300,maxWidth:window.innerWidth*.5}),e.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"#ffffff",overflow:"hidden",borderRadius:a==="float-sidebar"?"12px":"0"},children:e.jsx("div",{children:Le($e)})})]})})},Ts=()=>{const{setVisible:t,visible:a}=H(),{t:s}=I("ai");return e.jsx(e.Fragment,{children:e.jsx(Se,{title:s("chat.openAssistant",{defaultValue:"Open AI Assistant"}),placement:"left",style:{display:a?"none":"block"},children:e.jsx(lt,{icon:e.jsx(ct,{}),type:"primary",onClick:()=>t(!0),style:{right:24,bottom:24,display:a?"none":"block"}})})})},os=dt,is=t=>os[t],Rs=({iconName:t})=>{if(!t)return null;const a=is(t);return a?e.jsx(p.Suspense,{fallback:null,children:e.jsx(a,{})}):null},_s=({onSuccess:t,token:a})=>{const{t:s}=I("authorization"),{t:n}=I("common"),[o]=v.useForm(),{run:r,loading:d}=z(async i=>k.authorization.changePassword(i,a?{headers:{Authorization:`Bearer ${a}`}}:{}),{manual:!0,onSuccess:()=>{C.success(s("user.passwordChanged")),o.resetFields(),t==null||t()},onError:i=>{if(i instanceof Xt){const h=i.code??"normal";C.error(s(`user.passwordChangeFailed.${h}`,{error:i.message,defaultValue:"Password change failed: {{error}}"}))}else C.error(s("user.passwordChangeFailed.normal",{error:i.message,defaultValue:"Password change failed: {{error}}"}));console.error("Failed to change password:",i)}});return e.jsxs(v,{form:o,layout:"vertical",onFinish:r,style:{maxWidth:500,margin:"0 auto"},children:[e.jsx(v.Item,{name:"old_password",label:s("user.oldPassword"),rules:[{required:!0,message:s("validation.oldPasswordRequired")}],children:e.jsx(T.Password,{})}),e.jsx(v.Item,{name:"new_password",label:s("user.newPassword"),rules:[{required:!0,message:s("validation.newPasswordRequired")},{min:8,message:s("validation.passwordMinLength")}],children:e.jsx(T.Password,{})}),e.jsx(v.Item,{name:"confirm_password",label:s("user.confirmPassword"),rules:[{required:!0,message:s("validation.confirmPasswordRequired")},({getFieldValue:i})=>({validator(h,g){return!g||i("new_password")===g?Promise.resolve():Promise.reject(new Error(s("validation.passwordMismatch")))}})],children:e.jsx(T.Password,{})}),e.jsx(v.Item,{children:e.jsx(w,{type:"primary",htmlType:"submit",loading:d,children:n("save")})})]})},zs=({user:t,onSuccess:a})=>{const{t:s}=I("authorization"),{t:n}=I("common"),[o]=v.useForm(),[r,d]=p.useState(!1);W.useEffect(()=>{t&&o.setFieldsValue({username:t.username,email:t.email,full_name:t.full_name,phone:t.phone||"",avatar:t.avatar})},[t,o]);const i=async h=>{try{d(!0),await k.authorization.updateCurrentUser(h),C.success(n("updateSuccess")),a()}catch(g){C.error(n("updateFailed")),console.error("Failed to update user information:",g)}finally{d(!1)}};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxs("div",{style:{marginBottom:24,textAlign:"center"},children:[e.jsx("h2",{children:(t==null?void 0:t.full_name)||(t==null?void 0:t.username)}),(t==null?void 0:t.roles)&&t.roles.length>0&&e.jsxs("div",{children:[s("user.roles"),": ",t.roles.map(h=>h.name).join(", ")]})]}),e.jsxs(v,{form:o,layout:"vertical",onFinish:i,style:{width:"100%",maxWidth:500},children:[e.jsx(v.Item,{style:{marginBottom:24,textAlign:"center",justifyItems:"center"},name:"avatar",children:e.jsx(as,{})}),e.jsx(v.Item,{name:"username",label:s("user.username"),children:e.jsx(T,{disabled:!0})}),e.jsx(v.Item,{name:"email",label:s("user.email"),rules:[{required:!0,message:s("validation.emailRequired")},{type:"email",message:s("validation.emailInvalid")}],children:e.jsx(T,{})}),e.jsx(v.Item,{name:"full_name",label:s("user.fullName"),rules:[{required:!0,message:s("validation.fullNameRequired")}],children:e.jsx(T,{})}),e.jsx(v.Item,{name:"phone",label:s("user.phone"),children:e.jsx(T,{})}),e.jsx(v.Item,{children:e.jsx(w,{type:"primary",htmlType:"submit",loading:r,children:n("save")})})]})]})},Ps=({user:t,onSuccess:a})=>{const{t:s}=I("authorization"),{t:n}=I("common"),[o,r]=p.useState(0),[d,i]=p.useState(!1),[h,g]=p.useState(!0),[f,c]=p.useState(""),[m,j]=p.useState("totp"),{run:u,data:x={secret:"",qr_code:"",token:void 0}}=z(()=>k.authorization.enableMfa(m),{manual:!0,onSuccess:()=>{r(1)},onBefore:()=>{i(!0)},onFinally:()=>{i(!1)}}),F=async()=>{if(!f){C.warning(s("mfa.enterVerificationCode"));return}const A={code:f,mfa_type:m};"token"in x&&(A.token=x.token);try{i(!0),await k.authorization.verifyAndActivateMfa(A),C.success(s("mfa.enableSuccess")),r(2),a()}catch(R){C.error(s("mfa.verificationFailed")),console.error("Failed to verify MFA:",R)}finally{i(!1)}},y=async()=>{try{i(!0),await k.authorization.disableMfa(),C.success(s("mfa.disableSuccess")),a()}catch(A){C.error(n("operationFailed")),console.error("Failed to disable MFA:",A)}finally{i(!1)}},L=()=>{if(!t)return null;if(t.mfa_enabled)return e.jsx(te,{status:"success",title:s("mfa.enabled"),subTitle:s("mfa.enabledDescription"),extra:e.jsx(w,{danger:!0,onClick:()=>{U.confirm({title:s("mfa.confirmDisable"),content:s("mfa.disableWarning"),onOk:y,okButtonProps:{danger:!0}})},children:s("mfa.disable")})});const A=()=>{var R;switch(o){case 0:return e.jsxs("div",{style:{textAlign:"center",marginTop:20},children:[e.jsx(me,{message:e.jsxs("div",{children:[e.jsx("p",{children:s("mfa.setupInfo")}),e.jsx("p",{children:s(m==="totp"?"mfa.totpDescription":"mfa.emailDescription")})]}),type:"info",showIcon:!0,style:{marginBottom:20}}),e.jsx(w,{type:"primary",onClick:u,loading:d,children:s("mfa.startSetup")})]});case 1:return e.jsxs("div",{style:{textAlign:"center",marginTop:20},children:[e.jsx(me,{message:s("mfa.scanQrCode"),type:"info",showIcon:!0,style:{marginBottom:20,display:m==="totp"?"block":"none"}}),e.jsx("div",{style:{display:m==="totp"?"flex":"none",justifyContent:"center",marginBottom:24},children:e.jsx(gt,{value:x.qr_code??"",size:200})}),e.jsx("div",{style:{marginBottom:16,display:m==="email"?"block":"none"},children:e.jsxs("p",{children:[s("user.email"),": ",e.jsx("strong",{children:t==null?void 0:t.email})]})}),e.jsx("div",{style:{marginBottom:16,display:m==="totp"?"block":"none"},children:e.jsxs("p",{children:[s("mfa.secretKey"),": ",e.jsx("strong",{children:h?"*".repeat(((R=x.secret)==null?void 0:R.length)??0):x.secret}),e.jsx(w,{type:"link",onClick:()=>g(!h),icon:h?e.jsx(we,{}):e.jsx(ft,{})})]})}),e.jsx("div",{style:{marginBottom:24},children:e.jsx(T,{placeholder:s("mfa.enterCode"),style:{width:200},maxLength:6,value:f,onChange:E=>c(E.target.value)})}),e.jsxs(_,{children:[e.jsx(w,{onClick:()=>r(0),children:n("previous")}),e.jsx(w,{type:"primary",onClick:F,loading:d,children:n("verify")})]})]});case 2:return e.jsx(te,{status:"success",title:s("mfa.setupSuccess"),subTitle:s("mfa.setupSuccessDescription"),extra:e.jsx(w,{type:"primary",onClick:()=>r(0),children:n("done")})});default:return null}};return e.jsxs("div",{children:[e.jsxs("div",{style:{display:o===2?"none":"unset"},children:[e.jsx(ut,{defaultValue:"totp",onChange:R=>{j(R),r(0)},value:m,options:[{value:"totp",icon:e.jsx(mt,{}),label:s("mfa.totp",{defaultValue:"TOTP"})},{value:"email",icon:e.jsx(ht,{}),label:s("mfa.email",{defaultValue:"E-Mail"})}]}),e.jsx(ve,{})]}),e.jsx(pt,{current:o,items:[{title:s(m==="totp"?"mfa.totpStep1":"mfa.emailStep1"),description:s(m==="totp"?"mfa.totpStep1Description":"mfa.emailStep1Description")},{title:s(m==="totp"?"mfa.totpStep2":"mfa.emailStep2"),description:s(m==="totp"?"mfa.totpStep2Description":"mfa.emailStep2Description")},{title:s(m==="totp"?"mfa.totpStep3":"mfa.emailStep3"),description:s(m==="totp"?"mfa.totpStep3Description":"mfa.emailStep3Description")}],style:{marginBottom:30}}),A()]})};return e.jsx(K,{title:s("mfa.title"),children:L()})},{Text:Q}=yt,Ms=()=>{const{t}=I("authorization"),{t:a}=I("common"),[s,n]=p.useState([]),[o,r]=p.useState(!1),[d,i]=p.useState(null),[h,g]=p.useState(!1),f=async()=>{try{r(!0);const u=await k.authorization.getUserSessions({});n(u)}catch(u){C.error(t("session.getSessionsFailed",{error:u,defaultValue:"Failed to get session list: {{error}}"}))}finally{r(!1)}};p.useEffect(()=>{f()},[]);const c=async u=>{try{i(u),await k.authorization.terminateSession({id:u}),n(s.filter(x=>x.id!==u)),C.success(t("session.terminateSuccess",{defaultValue:"Session terminated successfully"}))}catch(x){C.error(t("session.terminateFailed",{error:x,defaultValue:"Failed to terminate session: {{error}}"}))}finally{i(null)}},m=async()=>{try{g(!0),await k.authorization.terminateOtherSessions(),n(s.filter(u=>u.is_current)),C.success(t("session.terminateAllSuccess",{defaultValue:"All other sessions terminated successfully"}))}catch(u){C.error(t("session.terminateAllFailed",{error:u,defaultValue:"Failed to terminate all other sessions: {{error}}"}))}finally{g(!1)}},j=[{title:t("session.device"),dataIndex:"user_agent",key:"device",render:(u,x)=>e.jsxs(_,{direction:"vertical",size:0,children:[e.jsxs(_,{children:[e.jsx(xt,{}),e.jsx(Q,{strong:!0,children:u})]}),e.jsxs(_,{children:[e.jsx(jt,{}),e.jsx(Q,{type:"secondary",children:x.location})]})]})},{title:t("session.ipAddress"),dataIndex:"ip_address",key:"ip_address",render:u=>e.jsxs(_,{children:[e.jsx(bt,{}),e.jsx("span",{children:u})]})},{title:t("session.lastActive"),dataIndex:"last_active_at",key:"last_active",render:u=>e.jsxs(_,{children:[e.jsx(vt,{}),e.jsx("span",{children:new Date(u).toLocaleString()})]})},{title:t("session.status"),key:"status",render:u=>u.is_current?e.jsx(X,{color:"green",children:t("session.current")}):e.jsx(X,{color:"blue",children:t("session.active")})},{title:a("actions"),key:"action",render:u=>u.is_current?e.jsx(Q,{type:"secondary",children:t("session.currentSession")}):e.jsx(se,{title:t("session.confirmTerminate"),onConfirm:()=>c(u.id),okText:a("confirm"),cancelText:a("cancel"),children:e.jsx(w,{type:"link",danger:!0,loading:d===u.id,children:t("session.terminate")})})}];return e.jsx(K,{title:t("session.title"),extra:s.length>1&&e.jsx(se,{title:t("session.confirmTerminateAll"),onConfirm:m,okText:a("confirm"),cancelText:a("cancel"),children:e.jsx(w,{danger:!0,loading:h,children:t("session.terminateOthers")})}),children:s.length===0?e.jsx(St,{description:t("session.noSessions")}):e.jsx(ne,{columns:j,dataSource:s,rowKey:"id",loading:o,pagination:!1})})},{RangePicker:ls}=wt,{Option:V}=M,cs=t=>t||"N/A",ds=(t,a)=>t==="success"?e.jsx(X,{color:"success",children:a("statuses.success")}):e.jsx(X,{color:"error",children:a("statuses.failed")}),Es=({userId:t,request:a=n=>t?k.authorization.getUserLogs({id:t,...n}):k.authorization.getCurrentUserLogs(n),columnsFilter:s=n=>n})=>{const{t:n}=I("authorization"),{t:o}=I("common"),[r,d]=p.useState({current:1,pageSize:10,total:0}),[i,h]=p.useState({}),[g]=v.useForm(),{loading:f,run:c,data:{data:m}={}}=z(async(y=i,L=1,A=10)=>a({...y,current:L??1,page_size:A??10}),{onError(y){C.error(n("auditLog.fetchFailed",{error:y}))},onSuccess({total:y}){d({...r,total:y})}});p.useEffect(()=>{c(i,1,r.pageSize)},[]);const j=y=>{d({...r,current:y.current,pageSize:y.pageSize}),c({},y.current,y.pageSize)},u=y=>{var L,A,R,E;c({...y,start_time:(A=(L=y.dateRange)==null?void 0:L[0])==null?void 0:A.toISOString(),end_time:(E=(R=y.dateRange)==null?void 0:R[1])==null?void 0:E.toISOString()},1,r.pageSize)},x=()=>{g.resetFields(),h({}),d({...r,current:1}),c({},1,r.pageSize)},F=[{title:n("auditLog.timestamp"),dataIndex:"timestamp",key:"timestamp",render:y=>Ut(y)},{title:n("auditLog.action"),dataIndex:"action",key:"action",render:(y,L)=>y?n(`action.${y.replace(":",".")}`,{defaultValue:L.action_name}):L.action_name??L.action},{title:n("auditLog.user_agent"),dataIndex:"user_agent",key:"user_agent"},{title:n("auditLog.ip"),dataIndex:"ip",key:"ip",render:y=>cs(y)},{title:n("auditLog.status"),dataIndex:"status",key:"status",render:y=>ds(y,n)},{title:n("auditLog.details"),dataIndex:"details",key:"details",render:y=>e.jsx(w,{type:"link",icon:e.jsx(we,{}),onClick:()=>{U.info({title:n("auditLog.details"),content:JSON.stringify(y)})}})}];return e.jsxs("div",{children:[e.jsx(K,{style:{marginBottom:16},children:e.jsxs(v,{form:g,layout:"horizontal",onFinish:u,initialValues:i,children:[e.jsxs(he,{gutter:24,children:[e.jsx(q,{span:6,children:e.jsx(v.Item,{name:"search",label:n("auditLog.search"),children:e.jsx(T,{placeholder:n("auditLog.searchPlaceholder")})})}),e.jsx(q,{span:6,children:e.jsx(v.Item,{name:"action",label:n("auditLog.action"),children:e.jsxs(M,{allowClear:!0,placeholder:n("auditLog.selectAction"),children:[e.jsx(V,{value:"login",children:n("actions.login")}),e.jsx(V,{value:"logout",children:n("actions.logout")}),e.jsx(V,{value:"password_reset",children:n("actions.passwordReset")}),e.jsx(V,{value:"mfa_change",children:n("actions.mfaChange")})]})})}),e.jsx(q,{span:6,children:e.jsx(v.Item,{name:"status",label:n("auditLog.status"),children:e.jsxs(M,{allowClear:!0,placeholder:n("auditLog.selectStatus"),children:[e.jsx(V,{value:"success",children:n("statuses.success")}),e.jsx(V,{value:"failed",children:n("statuses.failed")})]})})}),e.jsx(q,{span:6,children:e.jsx(v.Item,{name:"dateRange",label:n("auditLog.dateRange"),children:e.jsx(ls,{style:{width:"100%"}})})})]}),e.jsx(he,{children:e.jsx(q,{span:24,style:{textAlign:"right"},children:e.jsxs(_,{children:[e.jsx(w,{onClick:x,children:o("reset")}),e.jsx(w,{type:"primary",htmlType:"submit",icon:e.jsx(Ct,{}),children:o("search")})]})})})]})}),e.jsxs(K,{children:[e.jsx("div",{style:{marginBottom:16},children:e.jsx(w,{type:"primary",icon:e.jsx(Ce,{}),onClick:x,style:{marginRight:8},children:o("refresh")})}),e.jsx(ne,{rowKey:"id",columns:s(F),dataSource:m,pagination:{...r,showSizeChanger:!0,showTotal:y=>o("totalItems",{total:y})},loading:f,onChange:j,scroll:{x:"max-content"}})]})]})},Te=({permission:t,permissions:a=[],checkAll:s=!1,fallback:n=null,children:o})=>{const{hasPermission:r,hasAnyPermission:d,hasAllPermissions:i,isAdmin:h,loading:g}=ke();return g?null:h?e.jsx(e.Fragment,{children:o}):t?r(t)?e.jsx(e.Fragment,{children:o}):e.jsx(e.Fragment,{children:n}):a.length>0?(s?i(a):d(a))?e.jsx(e.Fragment,{children:o}):e.jsx(e.Fragment,{children:n}):e.jsx(e.Fragment,{children:o})},ye=t=>{const[a,s]=p.useState(!1),{permission:n,icon:o,tooltip:r,onClick:d,confirm:i,label:h,...g}=t,f=d?async()=>{s(!0);try{await d()}finally{s(!1)}}:void 0;let c=e.jsx(w,{type:"text",size:"small",loading:a,icon:o,onClick:i?void 0:f,...g,children:h&&e.jsx("span",{style:{position:"inherit",top:"-2px"},children:h})});if(r&&(c=e.jsx(Se,{title:r,children:c})),i){const m=async()=>{i.onConfirm?i.onConfirm():f&&await f()};c=e.jsx(se,{title:i.title,description:i.description,onConfirm:m,okText:i.okText,cancelText:i.cancelText,children:c})}return n&&(c=e.jsx(Te,{permission:n,children:c})),c},Ds=({actions:t,maxVisibleItems:a})=>{const s=t.filter(d=>!d.hidden);if(!a||s.length<=a)return e.jsx(e.Fragment,{children:s.map(({key:d,...i})=>e.jsx(ye,{...i},d))});const n=s.slice(0,a-1),r=s.slice(a-1).map(d=>{const{key:i,label:h,icon:g,permission:f,onClick:c,confirm:m,disabled:j,tooltip:u}=d,F={key:i,label:h,icon:g,disabled:j,onClick:async()=>{m?U.confirm({title:m.title,content:m.description,onOk:m.onConfirm,okText:m.okText,cancelText:m.cancelText}):c&&await c()}};return f?{...F,label:e.jsx(Te,{permission:f,children:e.jsx("span",{children:h??u})})}:F});return e.jsxs(e.Fragment,{children:[n.map(({key:d,...i})=>e.jsx(ye,{...i},d)),e.jsx(ae,{menu:{items:r},trigger:["click"],children:e.jsx(w,{type:"text",size:"small",icon:e.jsx(It,{})})})]})},us=({request:t,tableRef:a,...s},n)=>{const[o,r]=p.useState({current:1,pageSize:10}),[d,i]=p.useState(0),{data:h,loading:g,refresh:f}=z(async()=>{const c=await t({current:o.current,page_size:o.pageSize});return i(c.total),c.data},{refreshDeps:[o]});return p.useImperativeHandle(n,()=>({reload:()=>{f()}})),e.jsx(ne,{rowKey:"id",loading:g,dataSource:h??[],pagination:{...o,total:d,onChange:(c,m)=>{r({current:c,pageSize:m})}},...s,ref:a})},Vs=({actionRef:t,...a})=>{const[s,n]=p.useState();return p.useEffect(()=>{n(p.forwardRef(us))},[]),s?e.jsx(s,{...a,ref:t}):null},{TextArea:je}=T,{Option:Z}=M,Ns=({field:t,selectedType:a,dependentValues:s,formValues:n={}})=>{const{t:o}=I("system"),{t:r}=I("common"),d=p.useMemo(()=>Wt(t.visible_when,n),[t.visible_when,n]),{options:i,loading:h}=Ht(t.data_source,t.options,s),g=p.useMemo(()=>t.data_source&&t.data_source.type!=="static"?i:t.options||[],[t.data_source,t.options,i]),f=g&&g.length>0;if(!d)return null;const c=[{required:t.required,message:o("settings.toolsets.fieldRequired",{defaultValue:`Please enter ${t.name}`,field:t.name})}],m=()=>o(`settings.toolsets.${a}.${t.name}`,{defaultValue:t.display_name||t.name}),j=()=>o(`settings.toolsets.${a}.${t.name}Placeholder`,{defaultValue:t.placeholder||`${r("enter",{defaultValue:"Enter"})} ${t.name}`}),u=()=>{if(t.description)return o(`settings.toolsets.${a}.${t.name}Tooltip`,{defaultValue:t.description})};if(!d)return null;if(t.type==="select"||t.data_source)return e.jsx(v.Item,{name:["config",t.name],label:m(),rules:c,tooltip:u(),children:e.jsx(M,{loading:h,allowClear:!0,placeholder:j(),showSearch:!0,filterOption:(x,F)=>{var y;return(y=F==null?void 0:F.children)==null?void 0:y.toLowerCase().includes(x.toLowerCase())},children:g.map(x=>e.jsx(Z,{value:x.value,children:x.label},x.value))})},t.name);switch(t.type){case"text":return e.jsx(v.Item,{name:["config",t.name],label:m(),rules:c,children:e.jsx(je,{placeholder:j(),rows:4})},t.name);case"string":return f?e.jsx(v.Item,{name:["config",t.name],label:m(),rules:c,tooltip:u(),children:e.jsx(M,{allowClear:!0,placeholder:j(),children:g.map(x=>e.jsx(Z,{value:x.value,children:x.label},x.value))})},t.name):e.jsx(v.Item,{name:["config",t.name],label:m(),rules:c,tooltip:u(),children:e.jsx(T,{placeholder:j()})},t.name);case"password":return e.jsx(v.Item,{name:["config",t.name],label:m(),rules:c,tooltip:u(),children:e.jsx(T.Password,{placeholder:j(),autoComplete:"new-password"})},t.name);case"number":return f?e.jsx(v.Item,{name:["config",t.name],label:m(),rules:c,tooltip:u(),children:e.jsx(M,{allowClear:!0,placeholder:j(),children:g.map(x=>e.jsx(Z,{value:x.value,children:x.label},x.value))})},t.name):e.jsx(v.Item,{name:["config",t.name],label:m(),rules:c,tooltip:u(),children:e.jsx(Lt,{style:{width:"100%"},placeholder:j()})},t.name);case"boolean":return e.jsx(v.Item,{name:["config",t.name],label:m(),valuePropName:"checked",tooltip:u(),children:e.jsx(kt,{})},t.name);case"array":return f?e.jsx(v.Item,{name:["config",t.name],label:m(),rules:c,tooltip:u(),children:e.jsx(pe.Group,{style:{width:"100%"},children:e.jsx(_,{direction:"vertical",children:g.map(x=>e.jsx(pe,{value:x.value,children:x.label},x.value))})})},t.name):e.jsx(v.Item,{name:["config",t.name],label:m(),rules:c,tooltip:u(),children:e.jsx(M,{mode:"tags",style:{width:"100%"},placeholder:j(),tokenSeparators:[","]})},t.name);case"object":return e.jsx(v.Item,{name:["config",t.name],label:m(),rules:[...c,{validator:(x,F)=>{if(!F)return Promise.resolve();try{return JSON.parse(F),Promise.resolve()}catch{return Promise.reject(new Error(o("settings.toolsets.invalidJSON",{defaultValue:"Invalid JSON format"})))}}}],tooltip:u(),children:e.jsx(je,{rows:4,placeholder:j()})},t.name);default:return null}},ms=O(({token:t,css:a})=>({siderLayout:a`
      width: 100%;
      height: calc(100vh - 100px);
      display: flex;
      background: ${t.colorBgContainer};
      font-family: AlibabaPuHuiTi, ${t.fontFamily}, sans-serif;
    `,classicLayout:a`
      width: 100%;
      height: 70vh;
      display: flex;
      background: ${t.colorBgContainer};
      font-family: AlibabaPuHuiTi, ${t.fontFamily}, sans-serif;
    `,sider:a`
      background: ${t.colorBgLayout}80;
      width: 280px;
      height: 100%;
      display: flex;
      flex-direction: column;
      padding: 0 12px;
      box-sizing: border-box;
    `,logo:a`
      display: flex;
      align-items: center;
      justify-content: start;
      padding: 0 24px;
      box-sizing: border-box;
      gap: 8px;
      margin: 24px 0;

      span {
        font-weight: bold;
        color: ${t.colorText};
        font-size: 16px;
      }
    `,addBtn:a`
      background: #1677ff0f;
      border: 1px solid #1677ff34;
      height: 40px;
    `,conversationsSpin:a`
      height: 100%;
      overflow-y: auto;
    `,conversations:a`
      flex: 1;
      overflow-y: auto;
      margin-top: 12px;
      padding: 0;

      .ant-conversations-list {
        padding-inline-start: 0;
      }
    `,siderFooter:a`
      border-top: 1px solid ${t.colorBorderSecondary};
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    `,chat:a`
      height: 100%;
      width: 100%;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      padding-block: ${t.paddingLG}px;
      gap: 16px;
    `,chatPrompt:a`
      .ant-prompts-label {
        color: #000000e0 !important;
      }
      .ant-prompts-desc {
        color: #000000a6 !important;
        width: 100%;
      }
      .ant-prompts-icon {
        color: #000000a6 !important;
      }
    `,chatList:a`
      flex: 1;
      overflow: auto;
      .ant-spin-nested-loading{
        height: 100%;
        .ant-spin-container{
          height: 100%;
        }
      }
      .ant-bubble > .ant-bubble-content{
        max-width: 90%;
      }
      .ant-bubble-end{
        .ant-bubble-content{
          background-color: rgb(22 119 255 / 15%);
        }
      }
      .ant-bubble-list-autoscroll{
        flex-direction: column-reverse;
      }
    `,loadingMessage:a`
      background-image: linear-gradient(90deg, #ff6b23 0%, #af3cb8 31%, #53b6ff 89%);
      background-size: 100% 2px;
      background-repeat: no-repeat;
      background-position: bottom;
    `,placeholder:a`
      padding-top: 32px;
    `,sender:a`
      width: 100%;
      max-width: min(90%, 700px);
      margin: 0 auto;
    `,speechButton:a`
      font-size: 18px;
      color: ${t.colorText} !important;
    `,senderPrompt:a`
      width: 100%;
      max-width: 700px;
      margin: 0 auto;
      color: ${t.colorText};
    `}));class hs extends Error{constructor(s,n){super(s);de(this,"buffer");this.buffer=n}}class ps extends Bt{transformParams(a,s){if(typeof a!="object")throw new Error("requestParams must be an object");return{...(s==null?void 0:s.params)||{},...a||{}}}transformLocalMessage({content:a}){return{content:a,role:"user"}}transformMessage(a){const{originMessage:s,chunk:n}=a||{};if(!n)return{content:(s==null?void 0:s.content)||"",role:"assistant"};const o=JSON.parse(n.data),r=(s==null?void 0:s.content)||"";switch(o.event_type){case"content":return{content:`${r||""}${o.content||""}`,role:"assistant"};case"tool_call":return{content:r.endsWith("<br/>")?`${r}${o.content||""}`:`${r}<br/>${o.content||""}`,role:"assistant"};case"error":return{content:r,role:"assistant",error:o.content}}}}const ee=new Map,gs=t=>(ee.get(t)||ee.set(t,new ps({request:Nt(`/api/ai/chat/sessions/${t}`,{manual:!0,middlewares:{onRequest:async(a,s)=>{const n=localStorage.getItem("orgID"),{sessionId:o}=s.params,r={...s.headers,"Accept-Language":localStorage.getItem("i18nextLng")||"en-US",Authorization:`Bearer ${localStorage.getItem("token")}`,...n?{"X-Scope-OrgID":n}:{}};return[o?`/api/ai/chat/sessions/${o}`:a,{...s,headers:r}]}}})})),ee.get(t)),Re=()=>{const t=Ft.useToken(),a=W.useMemo(()=>{var n;return((n=t==null?void 0:t.theme)==null?void 0:n.id)===0},[t]);return[W.useMemo(()=>a?"x-markdown-light":"x-markdown-dark",[a])]},fs=W.createContext({}),xs=()=>{const{layout:t,setVisible:a,setLayout:s,onCallAI:n,activeConversationKey:o,setActiveConversationKey:r,conversations:d,fetchConversationsLoading:i}=H(),{t:h}=I("ai"),{t:g}=I("common"),{styles:f}=ms(),c=l=>({key:l.id,label:l.title,group:J(l.start_time).isSame(J(),"day")?h("chat.today"):J(l.start_time).format("YYYY-MM-DD")}),{conversations:m,activeConversationKey:j,setActiveConversationKey:u,addConversation:x,setConversations:F,getConversation:y,setConversation:L,removeConversation:A,getMessages:R}=At({defaultActiveConversationKey:o,defaultConversations:(d==null?void 0:d.map(l=>c(l)))||[]}),[E]=Re(),[re,_e]=C.useMessage(),[oe,ie]=p.useState(""),[B,le]=p.useState(),{onRequest:ce,messages:P,isRequesting:ze,abort:Pe,onReload:Me,setMessages:Ee,setMessage:De}=$t({provider:gs(j),conversationKey:j,defaultMessages:[],requestPlaceholder:()=>({content:g("loading"),role:"assistant"}),requestFallback:(l,{error:S})=>S instanceof hs?{content:S.buffer.join(""),role:"assistant",error:S.message}:{content:`${S}`,role:"assistant"}}),Ve=l=>{if(l){if(!j){D(l);return}ce({content:l})}},{run:Ne,loading:Be}=z(async l=>await k.ai.getChatSession({sessionId:l}),{manual:!0,onError:()=>{C.error(h("chat.fetchConversationFailed",{defaultValue:"Failed to fetch conversation"}))},onSuccess:l=>{if(P&&P.length>0&&(P[P.length-1].status==="loading"||P.length>l.messages.length))return;const S=[];let b={id:"",message:{content:"",role:"assistant"},status:"success"};for(const $ of l.messages)switch($.role){case"assistant":b.status=$.status==="completed"&&b.status==="success"?"success":"error",b.message.role="assistant",b.id=$.id,$.tool_calls&&$.tool_calls.length>0?b.message.content.endsWith("<br/>")?b.message.content=`${b.message.content}${$.content}`:b.message.content=`${b.message.content}<br/>${$.content}`:b.message.content=`${b.message.content}${$.content}`;break;case"user":case"system":b.message.content.length>0&&(S.push({id:b.id,message:{content:b.message.content,role:b.message.role},status:b.status}),b={id:"",message:{content:"",role:"assistant"},status:"success"}),S.push({id:$.id,message:{content:$.content,role:$.role},status:$.status==="completed"?"success":"error"});break}b.message.content.length>0&&S.push({id:b.id,message:{content:b.message.content,role:b.message.role},status:b.status}),Ee(S)}}),{run:D,loading:G}=z(async(l,S)=>await k.ai.createChatSession({title:h("chat.defaultConversationTitle"),model_id:"",messages:S||[]}),{manual:!0,onError:()=>{C.error(h("chat.createConversationFailed",{defaultValue:"Failed to create conversation"}))},onSuccess:(l,[S])=>{x(c(l),"prepend"),S&&le({message:S,sessionId:l.id}),u(l.id),r(l.id)}});p.useEffect(()=>{F((d==null?void 0:d.map(l=>c(l)))||[])},[d]);const{run:qe}=z(async l=>await k.ai.deleteChatSession({sessionId:l}),{manual:!0,onError(l,[S]){re.error(h("chat.deleteConversationFailed",{defaultValue:"Failed to delete conversation"}));const b=y(S);b&&L(S,{...b,loading:!1})},onSuccess(l,[S]){A(S)}}),{run:He}=z(async l=>k.ai.generateChatSessionTitle({sessionId:l},{title:""}),{manual:!0,onSuccess:({title:l},[S])=>{const b=y(S);b&&L(S,{...b,title:l,loading:!1})},onError:(l,[S])=>{re.error(h("chat.titleGenerationFailed",{defaultValue:"Failed to generate title: {{error}}",error:l.message||l}));const b=y(S);b&&L(S,{...b,loading:!1})}});p.useEffect(()=>{j&&(B==null?void 0:B.sessionId)===j&&(ce({content:B.message}),le(void 0))},[j,B]),p.useEffect(()=>{if(j){const l=R(j);if(l&&l.length>0)return;Ne(j)}},[j]),p.useEffect(()=>{n&&D&&n((l,S)=>{D(l,S)})},[D,n]);const Oe=e.jsxs("div",{className:f.sider,children:[e.jsx(w,{onClick:()=>{D()},type:"link",className:f.addBtn,icon:e.jsx(ge,{}),loading:G,children:h("chat.newConversation",{defaultValue:"New Conversation"})}),e.jsx(N,{spinning:i,wrapperClassName:f.conversationsSpin,children:e.jsx(Tt,{items:m,activeKey:j,onActiveChange:async l=>{l&&(u(l),r(l))},className:f.conversations,groupable:!0,styles:{item:{padding:"0 8px"}},menu:l=>({items:[{label:h("chat.regenerateTitle"),key:"regenerateTitle",icon:e.jsx(Ce,{}),onClick:()=>{L(l.key,{...l,loading:!0}),He(l.key)}},{label:g("delete"),key:"delete",icon:e.jsx(Rt,{}),danger:!0,onClick:()=>{L(l.key,{...l,loading:!0}),qe(l.key)}}]})})})]}),Ue=({message:l})=>{if(l.error)return e.jsx("div",{children:e.jsx(fe,{content:l.error})})},We=P==null?void 0:P.map(l=>({...l.message,key:l.id,contentRender:S=>e.jsx(fe,{paragraphTag:"div",content:S,className:E}),footer:Ue(l)})),Ke=e.jsx("div",{className:f.chatList,children:e.jsx(N,{spinning:Be||G,children:e.jsx(_t.List,{items:We,style:{height:"100%",paddingInline:t==="classic"?"calc(calc(100% - 700px) /2)":"20px"},roles:{assistant:{placement:"start",loadingRender:()=>e.jsx(N,{size:"small"})},user:{placement:"end"}},role:{assistant:{placement:"start",loadingRender:()=>e.jsx(N,{size:"small"})},user:{placement:"end"}}})})}),Xe=e.jsx(e.Fragment,{children:e.jsx(zt,{value:oe,onSubmit:async()=>{Ve(oe.trim()),ie("")},onChange:ie,onCancel:()=>{Pe()},loading:ze,className:f.sender,placeholder:h("chat.inputPlaceholder")})});return e.jsxs(Pt,{children:[_e,e.jsxs(fs.Provider,{value:{onReload:Me,setMessage:De},children:[e.jsxs("div",{style:{height:"50px",width:"100%",position:"relative"},children:[e.jsx(Mt.Group,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},options:[{label:e.jsx(Et,{}),value:"classic"},{label:e.jsx(xe,{}),value:"sidebar"},{label:e.jsx(xe,{}),value:"float-sidebar"}],optionType:"button",onChange:l=>s(l.target.value),value:t}),e.jsxs(_,{style:{float:"right",marginTop:10},children:[e.jsx(w,{type:"primary",onClick:()=>{D()},loading:G,icon:e.jsx(ge,{}),style:{display:t==="classic"?"none":"block"}}),e.jsx(ae,{menu:{items:m.map(l=>({label:l.label,key:l.key})),onClick:({key:l})=>{u(l),r(l)}},placement:"bottomRight",children:e.jsx(w,{icon:i?e.jsx(N,{size:"small"}):e.jsx(Dt,{}),style:{display:t==="classic"?"none":"block"}})}),e.jsx(w,{type:"text",onClick:()=>a(!1),children:e.jsx(Vt,{})})]})]}),e.jsxs("div",{className:t==="classic"?f.classicLayout:f.siderLayout,style:{minWidth:t==="classic"?"500px":"400px"},children:[t==="classic"?Oe:null,e.jsxs("div",{className:f.chat,children:[Ke,Xe]})]})]})]})},ys=Object.freeze(Object.defineProperty({__proto__:null,default:xs,useMarkdownTheme:Re},Symbol.toStringTag,{value:"Module"}));export{ts as A,Rs as D,Fe as H,Gt as L,Fs as O,ks as P,Vs as T,Es as U,Ls as a,Ts as b,As as c,$s as d,_s as e,zs as f,Ps as g,Ms as h,Te as i,Zt as j,Ds as k,Ns as l,as as m};
