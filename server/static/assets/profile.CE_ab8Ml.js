import{u as l,r as n,ac as p,al as b,j as e,C as g,aM as x,s as y}from"./vendor.Bo5zsZF4.js";import{c as P,b as j,d as V,e as A,U as L}from"./components.Fh574qtu.js";import{b as S}from"./contexts.C7kqdtJN.js";import{m as k}from"./base.DKngyV83.js";import"./vite.BF1G3H_w.js";const T=()=>{const{t:s}=l("authorization"),{t:c}=l("common"),{user:o,updateUser:u}=S(),[f,r]=n.useState(!1),d=p(),i=b(),h=i.hash.replace("#","")||"basic",t=async()=>{try{r(!0);const a=await k();u(a)}catch(a){y.error(c("fetchFailed",{defaultValue:"Failed to fetch data"})),console.error("Failed to fetch user profile:",a)}finally{r(!1)}};n.useEffect(()=>{t()},[]);const m=[{key:"basic",label:s("profile.basic",{defaultValue:"Basic Information"}),children:e.jsx(P,{user:o,onSuccess:t})},{key:"password",label:s("profile.password",{defaultValue:"Password"}),children:e.jsx(j,{})},{key:"mfa",label:s("profile.mfa",{defaultValue:"Multi-Factor Authentication"}),children:e.jsx(V,{user:o,onSuccess:t})},{key:"sessions",label:s("profile.sessions",{defaultValue:"Sessions"}),children:e.jsx(A,{})},{key:"auditLogs",label:s("profile.auditLogs",{defaultValue:"Audit Logs"}),children:e.jsx(L,{})}];return e.jsx(g,{title:s("profile.title",{defaultValue:"Profile Settings"}),loading:f,children:e.jsx(x,{defaultActiveKey:h,onChange:a=>{d(`${i.pathname}#${a}`)},items:m,destroyInactiveTabPane:!0})})};export{T as default};
